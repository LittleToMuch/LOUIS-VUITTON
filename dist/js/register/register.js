"use strict";var _ref=[document.querySelector("#username"),document.querySelector("#password"),document.querySelector("#repassword"),document.querySelector("#age"),document.querySelector("#tel"),document.getElementsByName("sex")],username=_ref[0],password=_ref[1],repassword=_ref[2],age=_ref[3],tel=_ref[4],sex=_ref[5],regUN=/^[a-zA-Z0-9_-]{4,16}$/,regPW=/^.*(?=.{6,})(?=.*\d)(?=.*[!@#$%^&*?=+\- ]).*$/,regTel=/^1[3-9]\d{9}$/,btn=document.querySelector("#reg"),input=document.getElementsByTagName("input");username.onchange=function(){regUN.test(this.value)?(this.parentElement.classList.remove("has-error"),this.parentElement.nextElementSibling.style.display="none"):(this.parentElement.classList.add("has-error"),btn.setAttribute("disabled","disabled"),this.parentElement.nextElementSibling.style.display="block"),biu()},password.onchange=function(){regPW.test(this.value)?(this.parentElement.classList.remove("has-error"),this.parentElement.nextElementSibling.style.display="none"):(this.parentElement.classList.add("has-error"),btn.setAttribute("disabled","disabled"),this.parentElement.nextElementSibling.style.display="block"),biu()},repassword.onchange=function(){this.value!==password.value?(this.parentElement.classList.add("has-error"),btn.setAttribute("disabled","disabled"),this.parentElement.nextElementSibling.style.display="block"):(this.parentElement.classList.remove("has-error"),this.parentElement.nextElementSibling.style.display="none"),biu()},tel.onchange=function(){regTel.test(this.value)?(this.parentElement.classList.remove("has-error"),this.parentElement.nextElementSibling.style.display="none"):(this.parentElement.classList.add("has-error"),btn.setAttribute("disabled","disabled"),this.parentElement.nextElementSibling.style.display="block")};for(var i=5;i<55;i++){var option=document.createElement("option");option.setAttribute("value",i),option.innerHTML="".concat(i,"岁"),age.appendChild(option)}function biu(){for(var e=0;e<input.length;e++)if(input[e].parentElement.classList.contains("has-error"))return;btn.removeAttribute("disabled")}document.querySelector("#username").onblur=function(){var e=this.value,t=new XMLHttpRequest;t.open("GET","/LV/dist/assets/api/checkuser.php?username=".concat(e),!0),t.send(),t.onload=function(){200<=this.status&&this.status<300&&("0"===JSON.parse(this.responseText).status?(console.log("用户名已存在"),document.querySelector("#username").parentElement.classList.add("has-error"),document.querySelector("#reg").setAttribute("disabled","disabled"),document.querySelector(".repeat").style.display="block"):(document.querySelector("#reg").removeAttribute("disabled"),document.querySelector(".repeat").style.display="none"))}};